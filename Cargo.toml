[workspace]
resolver = "3"
members = ["star_*", "example_programs/*"]

[workspace.package]
version = "0.3.0"
edition = "2021"
publish = ["star-atlas"]
rust-version = "1.84.1"
license = "Apache-2.0"
repository = "https://github.com/staratlasmeta/star_frame"

[workspace.dependencies]
# Keep the version in sync with the workspace.package.version
star_frame = { path = "star_frame", registry = "star-atlas", version = "0.3.0" }
star_frame_idl = { path = "star_frame_idl", registry = "star-atlas", version = "0.3.0" }
star_frame_proc = { path = "star_frame_proc", registry = "star-atlas", version = "0.3.0" }
star_frame_spl = { path = "star_frame_spl", registry = "star-atlas", version = "0.3.0" }

# Non workspace crates
advancer = "^0.1.0"
anyhow = "^1.0.75"
array-init = "^2.1.0"
hex = "^0.4.3"
borsh = "^1.3.1"
bs58 = "^0.5.0"
bytemuck = { version = "^1.22.0", features = [
    "extern_crate_std",
    "min_const_generics",
    "derive",
] }
clap = { version = "^4.3", features = ["derive"] }
codama-nodes = { version = "^0.4.0" }
daggy = "^0.8.0"
# todo: update this when upstreamed
derive-where = { version = "1.2.7", registry = "star-atlas" }
derive_more = { version = "^2.0.1", features = ["full"] }
easy_proc = "^0.4.0"
fixed = "1.28.0"
heck = "^0.5.0"
itertools = "^0.14.0"
lazy_static = "^1.4.0"
num-traits = "^0.2.17"
paste = "^1.0.14"
pretty_assertions = "^1.4.0"
proc-macro-crate = "^3.1.0"
proc-macro-error2 = { version = "^2.0.1", default-features = false }
proc-macro2 = "^1.0.27"
quote = "^1.0.9"
rand = "^0.8.5"
ref-cast = "^1.0"
rustc_version = "^0.4.0"
semver = { version = "^1.0.23", features = ["serde"] }
serde = { version = "^1.0.192", features = ["derive"] }
serde_json = "^1.0.108"
sha2 = "^0.10.8"
solana-program = "2.1"
solana-pubkey = "2.1"
solana-program-test = "2.1"
solana-sdk = "2.1"
spl-associated-token-account = { version = "6.0.0", features = [
    "no-entrypoint",
] }
spl-token = { version = "7.0.0", features = ["no-entrypoint"] }
static_assertions = "^1.1.0"
strum = { version = "^0.26.2", features = ["derive"] }
syn = { version = "^2.0.40", features = ["extra-traits"] }
tokio = "^1.41.1"
typenum = "^1.17.0"
ptr_meta = "0.3.0"


[profile.release]
overflow-checks = true
lto = "fat"
codegen-units = 1

[profile.release.build-override]
opt-level = 3
incremental = false
codegen-units = 1
